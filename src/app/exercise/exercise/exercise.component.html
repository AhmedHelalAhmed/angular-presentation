<div *ngIf="slide.active">
  <div class="exercise-panel">
    <slides-resize class="exercise-body" [minWidth]="400"
                [maxWidth]="750">
      <slides-resize [isVertical]="true" [startingHeight]="400"
                  [minHeight]="100">
        <div style="display: flex;height: 100%;width: 100%;">
          <div class="file-tree-column">
            <div class="file-tree-column-toggle" [class.active]="showFileTree"
                 (click)="toggleTree()">
              <div class="file-structure-button">File structure</div>
            </div>
            <slides-file-tree *ngIf="showFileTree" [files]="config.files" [active]="currentFile"
                           (onCurrentFile)="currentFileChanged($event)">
            </slides-file-tree>
          </div>
          <slides-editors
            [files]="config.files" [currentFile]="currentFile"
                       (onChanges)="onCodeChanges($event)" (onToggle)="toggleFile($event)"
                       (onLoadSolution)="loadSolution($event)"
                       (onCurrentFile)="currentFileChanged($event)">
          </slides-editors>
        </div>
      </slides-resize>
      <slides-slides-preview [milestone]="milestone">
      </slides-slides-preview>
    </slides-resize>

    <div class="side">
      <ng-content select=".description"></ng-content>
      <div *ngIf="solved">
        <!--TODO: Find a nicer workflow-->
        <div style="color: green">
          <h2>Nice! Go to the next slide</h2>
        </div>
      </div>
      <slides-tests [tests]="config.tests" [files]="config.files"
        (onCurrentFile)="currentFileChanged($event)"></slides-tests>
      <slides-runner (onTestUpdate)="onTestUpdate($event)"
                  [files]="config.files" style="flex: 50%"
                  [runnerType]="config.runner || 'Angular'"></slides-runner>
    </div>
  </div>
</div>
